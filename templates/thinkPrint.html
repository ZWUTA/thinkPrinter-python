<!DOCTYPE html>
<html lang="en">
  {% block page_content %}
<!-- æ–° Bootstrap5 æ ¸å¿ƒ CSS æ–‡ä»¶ -->
<link rel="stylesheet" href="../static/css/bootstrap.min.css">
<!--  popper.min.js ç”¨äºå¼¹çª—ã€æç¤ºã€ä¸‹æ‹‰èœå• -->
<script src="../static/popper.min.js"></script>
<!-- æœ€æ–°çš„ Bootstrap5 æ ¸å¿ƒ JavaScript æ–‡ä»¶ -->
<script src="../static/js/bootstrap.min.js"></script>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ€è€ƒÂ·æ™ºæ…§æ‰“å°</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        outline: none !important;
      }
      body {
        background-color: #d8e3e7;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        /* margin: 0 2em 0 2em; */
      }

      .title {
        font-size: 50px;
        margin-top: 1em;
      }

      /* Styles for screens smaller than 768px (mobile devices) */
      @media (max-width: 767px) {
        .title {
          font-size: 30px;
        }

        /* Wrap the two parts of the title onto separate lines */
        .title span {
          display: block;
        }

        /* Hide the separator */
        .title span:nth-child(2) {
          display: none;
        }
        .uploadFile {
          width: 90% !important;
        }
      }

      p {
        text-align: center;
        font-size: 20px;
        margin: 1em;
      }

      .uploadFile {
        width: 20em;
        height: 10em;
        font-size: 20px;
        background-color: #bed0dfa8;
        border: none;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 2em;
      }
      .start {
        height: 3em;
        width: 15em;
        background-color: lightsteelblue;
        border: none;
        margin-top: 3em;
        border-radius: 2em;
        font-size: 1em;
      }
      .start:hover {
        background-color: rgb(150, 172, 202);
      }
      .start:active {
        background-color: rgb(142, 159, 182);
        transform: scale(0.99);
      }
      .fileInput {
        display: none;
      }
    </style>
  </head>

  <body>
    <h1 class="title">
      <span>ThinkPrinter</span>
      <span> | </span>
      <!-- <span><br /></span> -->
      <span>æ€è€ƒÂ·æ™ºæ…§æ‰“å°</span>
    </h1>
    <p>ç›®å‰ä»…æ”¯æŒA4å•é¢æ‰“å°ã€‚æ”¯æŒå¤šæ–‡ä»¶æ‰“å°ï¼Œé‡‡ç”¨åŒä¸€å‚æ•°æ‰“å°ã€‚</p>
    <p>ã€å…¬å‘Šï¼šwordæ–‡æ¡£æ‰“å°æ”¯æŒè¯•è¿è¡Œä¸­ï¼Œé‡è¦æ–‡æ¡£ä»å»ºè®®ä¸Šä¼ pdfã€‘</p>
    <p>æ‚¨çš„è´¦æˆ·å‰©ä½™å¯æ‰“å°é¢åº¦{{userInfo.upaperRemain}}å¼ ã€‚</p>
    <p>{% if printAlready %}
      æ„Ÿè°¢æ‚¨æœ¬æ¬¡æ‰“å°ï¼Œæ–‡æ¡£å…±{{num_page}}é¡µï¼Œæœ¬æ¬¡æ‰“å°æ¶ˆè€—æ‰“å°é¢åº¦{{num_page}}å¼ ã€‚<p></p>è¯·åœ¨æ‰“å°æœºå–èµ°æ‚¨çš„æ–‡ä»¶ï¼Œè®¢ä¹¦æœºåœ¨è®²å°ä¸Šã€‚
      {% endif %}</p>
    <button id="button" onclick="choseFile()" class="uploadFile">
      ç‚¹å‡»è¿™é‡Œä¸Šä¼ æ‚¨è¦æ‰“å°çš„æ–‡ä»¶
    </button>
    <!-- display: none ä¸ºéšè—inputæŒ‰é’®ï¼Œå› ä¸ºå®ƒå¾ˆéš¾è‡ªå®šä¹‰æ ·å¼ï¼Œé€šè¿‡å•å‡»ğŸ‘†ä¸€ä¸ªbuttonæ¥ï¼Œæ¨¡æ‹Ÿå•å‡»è¿™ä¸ªæŒ‰é’® -->
    <form method="POST" enctype="multipart/form-data">
      <input class="start form-control" id="fileInput" name="file" type="file" multiple="multiple" accept=".pdf,.doc,.docx" style="display: none" />
      <div class="input-group">
        <span class="input-group-text" id="basic-addon3">æ‰“å°ä»½æ•°</span>
        <input type="text" class="form-control" text="1" placeholder="1" id="copies" name="copies" aria-describedby="basic-addon3">
      </div>
      <div class="input-group mb-3">
        <input type="text" class="form-control" text="1" placeholder="1" aria-label="å¼€å§‹é¡µç " name="page_0">
        <span class="input-group-text">é»˜è®¤æ‰“å°æ•´ä¸ªæ–‡æ¡£</span>
        <input type="text" class="form-control" text="n" placeholder="n" aria-label="ç»“æŸé¡µç " name="page_1">
      </div>
    <button type="submit" class="start">å¼€å§‹æ‰“å°</button>
    </form>

  </body>
  <script>
    // document.getElementById("fileInput").click();
    // å•å‡»idä¸ºbuttonçš„æŒ‰é’®æ—¶ï¼Œè§¦å‘idä¸ºfileInputçš„inputçš„clickäº‹ä»¶
    function choseFile() {
      document.getElementById("fileInput").click();
    }
    document
      .getElementById("fileInput")
      .addEventListener("change", function () {
        var files = this.files;
        if (files.length > 0) {
          console.log(files);
          var fileName = files[0].name;
          var fileSize = files[0].size;
          // ä¿®æ”¹id="button"æŒ‰é’®çš„æ–‡æœ¬ä¸ºæ–‡ä»¶å
          document.getElementById("button").innerHTML = fileName;
          console.log("Selected file:", fileName, "Size:", fileSize);
          // åœ¨æ­¤å¤„æ‰§è¡Œä¸Šä¼ æ–‡ä»¶çš„æ“ä½œ
        }
      });
  </script>
{% endblock %}
</html>
